{
  "openapi": "3.0.0",
  "info": {
    "title": "API Documentation",
    "version": "1.0.0",
    "description": "Comprehensive API documentation with detailed request/response schemas"
  },
  "servers": [
    {
      "url": "/api"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "summary": "register",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "firstName": "Ahmed",
                "lastName": "Ali",
                "email": "Ahmed@gmail.com",
                "password": "12345678"
              }
            }
          }
        }
      }
    },
    "/auth/forgot-password": {
      "post": {
        "summary": "forgot-password",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "email": "Ahmed@gmail.com"
              }
            }
          }
        }
      }
    },
    "/auth/reset-password": {
      "post": {
        "summary": "reset-password",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "resetToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjA2Y2RiMTFkLTcyYTYtNGE4Yi1hZDY2LTYwOTdkZjZjMWNmMiIsImVtYWlsIjoiQWhtZWRAZ21haWwuY29tIiwicm9sZSI6IkNVU1RPTUVSIiwiaWF0IjoxNzU2MDIwMzk1LCJleHAiOjE3NTYwMjM5OTV9.UQGZQ5ozbppVrh8fmFakQp99JqnF18eKUhwINMoKW_M",
                "newPassword": "Ahmed12345678"
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "summary": "login",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "email": "Mohamed@gmail.com",
                "password": "12345678"
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "summary": "getAccessToken",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Ijc3MTNkNTllLTkwNjQtNDU5Yy1hOTM0LWJjM2I2NjdkNThiYiIsImVtYWlsIjoiQWhtZWQzQGdtYWlsLmNvbSIsInJvbGUiOiJDVVNUT01FUiIsImlhdCI6MTc1NjA3ODM3MiwiZXhwIjoxNzU2NjgzMTcyfQ.k0l9jHeqBdPK2xHCmmhjXQTTXlWBf9wLJJRvAqjdMeY"
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "summary": "logout",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Ijc3MTNkNTllLTkwNjQtNDU5Yy1hOTM0LWJjM2I2NjdkNThiYiIsImVtYWlsIjoiQWhtZWQzQGdtYWlsLmNvbSIsInJvbGUiOiJDVVNUT01FUiIsImlhdCI6MTc1NjA3ODM3MiwiZXhwIjoxNzU2NjgzMTcyfQ.k0l9jHeqBdPK2xHCmmhjXQTTXlWBf9wLJJRvAqjdMeY"
              }
            }
          }
        }
      }
    },
    "/users": {
      "post": {
        "summary": "createUser",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "firstName": "Hamza",
                "lastName": "Ibrahim",
                "email": "Hamaza@gmail.com",
                "password": "12345678",
                "role": "AGENT"
              }
            }
          }
        }
      },
      "get": {
        "summary": "getUsers",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/users/{id}": {
      "get": {
        "summary": "getUser",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      },
      "patch": {
        "summary": "updateUser",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "departmentId": "7240f64d-d0e3-4dec-8140-8083f1070d3a"
              }
            }
          }
        }
      },
      "delete": {
        "summary": "deleteUser",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/users/me": {
      "get": {
        "summary": "getMyProfile",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      },
      "patch": {
        "summary": "updateMyProfile",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "firstName": "Kareem",
                "lastName": "Mohamed",
                "email": "Kareem@gmail.com"
              }
            }
          }
        }
      },
      "delete": {
        "summary": "deleteMyProfile",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/tickets": {
      "post": {
        "summary": "createTicket",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "title": "visa not working",
                "description": "visa is not working inside the application"
              }
            }
          }
        }
      },
      "get": {
        "summary": "getTickets",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/tickets/filters": {
      "get": {
        "summary": "getFilteredTickets",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "OPEN"
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "1"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "2"
          },
          {
            "name": "priority",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "MEDIUM"
          }
        ]
      }
    },
    "/tickets/{id}": {
      "get": {
        "summary": "getTicket",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      },
      "patch": {
        "summary": "updateTicket",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "title": "profile picture is not loaded",
                "description": "profile picture is not loaded"
              }
            }
          }
        }
      },
      "delete": {
        "summary": "deleteTicket",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/tickets/{id}/status": {
      "patch": {
        "summary": "updateStatus",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "status": "IN_PROGRESS"
              }
            }
          }
        }
      }
    },
    "/tickets/{id}/assign": {
      "patch": {
        "summary": "assignTicket",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/tickets/{id}/analytics": {
      "get": {
        "summary": "getAnalytics",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/tickets/{id}/comments": {
      "post": {
        "summary": "createComment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "body": "hello can any agent help this user in this ticket"
              }
            }
          }
        }
      },
      "get": {
        "summary": "getComments",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/tickets/{id}/comments/{commentId}": {
      "patch": {
        "summary": "updateComment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "commentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "body": "can you please send a photo of the issue so i understand better what you are asking for"
              }
            }
          }
        }
      },
      "delete": {
        "summary": "deleteComment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "commentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/tickets/{id}/attachments": {
      "post": {
        "summary": "createAttachment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      },
      "get": {
        "summary": "getAttachments",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/tickets/{id}/attachments/{attachmentId}": {
      "delete": {
        "summary": "deleteAttachment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "attachmentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      },
      "patch": {
        "summary": "updateAttachment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "attachmentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/tickets/{id}/notes": {
      "post": {
        "summary": "createNote",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "body": "HELLO WORLD"
              }
            }
          }
        }
      },
      "get": {
        "summary": "getNotes",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/tickets/{id}/notes/{noteId}": {
      "patch": {
        "summary": "updateNote",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "noteId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "body": "HELLO WORLD"
              }
            }
          }
        }
      },
      "delete": {
        "summary": "deleteNote",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "noteId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/departments": {
      "post": {
        "summary": "createDepartment",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "name": "IT",
                "description": "Handles all technical issues related to software, hardware, and system functionality, including bugs, feature problems, and user interface errors."
              }
            }
          }
        }
      },
      "get": {
        "summary": "getDepartments",
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    },
    "/departments/{id}": {
      "get": {
        "summary": "getDepartment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      },
      "patch": {
        "summary": "updateDepartment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              },
              "example": {
                "name": "Accounts",
                "description": "Handles payment processing, invoicing, refunds, financial disputes, and accounting queries."
              }
            }
          }
        }
      },
      "delete": {
        "summary": "deleteDepartment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ]
}